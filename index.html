<!DOCTYPE html>
<html>
  <head>
    <title>SlotBangJago - Cari Kupon Luckyspin !</title>
    <base target="_top">
    <link rel="icon" type="image/jpeg" href="https://i.ibb.co/HLr8QhZR/images.jpg?v=2" />
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "00c33fd3-e850-4e1a-9773-a015271ec15e",
      promptOptions: {
        slidedown: {
          enabled: false  // ‚Üê MATIKAN PROMPT DEFAULT
        }
      }
    });
  });
</script>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: linear-gradient(to bottom, #f2f2f2, #ffffff);
        margin-top: 40px;
        overflow-x: hidden;
      }
      h2 {
        color: #333;
      }
      #search-form {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }
      input[type="text"] {
        padding: 10px;
        width: 250px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
        transition: box-shadow 0.3s ease;
      }
      .reminder-text {
    color: #cc0000;
    font-weight: bold;
    font-size: 13.5px;
    margin-top: 16px;
    animation: pulseText 1.5s ease-in-out infinite;
  }
  @keyframes pulseText {
    0%   { opacity: 1; transform: scale(1); }
    50%  { opacity: 0.6; transform: scale(1.04); }
    100% { opacity: 1; transform: scale(1); }
}  /* <-- tambahkan ini */
      input[type="text"]:focus {
  outline: none;
  border-color: #28a745;
  animation: glow 1.5s infinite alternate;
}

@keyframes glow {
  from { box-shadow: 0 0 6px #28a745; }
  to   { box-shadow: 0 0 12px #28a745; }
}
     
      button {
        padding: 10px 20px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 4px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.1s ease;
      }
      button:hover {
        background-color: #218838;
      }
      button:active {
        transform: scale(0.96);
        background-color: #1e7e34;
      }
      #loading-spinner {
        display: none;
        justify-content: center;
        margin: 20px;
      }
      .spinner {
  width: 22px;
  height: 22px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-top: 3px solid #28a745;
  border-right: 3px solid #f39c12;
  border-bottom: 3px solid #e60000;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  margin-left: 4px;
  transition: opacity 0.2s ease;
}
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      .spinner-wrapper {
  width: 26px;
  height: 26px;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}
.spinner-wrapper.active {
  opacity: 1;
}
      .result-table {
        margin: 0 auto;
        border-collapse: collapse;
        background-color: #ffffff;
        border: 1px solid #ddd;
        border-radius: 8px;
        width: 90%;
        max-width: 600px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.05);
        overflow: hidden;
        animation: fadeIn 0.5s ease-in-out;
      }
      .result-table th {
        background-color: #cc0000;
        color: white;
        padding: 12px 16px;
        font-size: 15px;
        border: 1px solid #ddd;
        text-align: center;
      }
      .result-table td {
        padding: 10px 16px;
        font-size: 14px;
        border: 1px solid #ddd;
        vertical-align: middle;
        color: #333;
      }
      .copy-btn {
        display: inline-block;
        background-color: #ff5555;
        color: white;
        border: none;
        padding: 6px 12px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 13px;
        margin-left: 8px;
        vertical-align: middle;
        transition: transform 0.2s ease, background-color 0.3s ease;
      }
      .copy-btn:hover {
        background-color: #cc4444;
        transform: scale(1.05);
      }

      .wa-btn {
  margin-top: 15px;
  padding: 10px 20px;
  background-color: #25d366;
  color: white;
  font-weight: bold;
  font-size: 14px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  animation: pulse 1.5s infinite;
  transition: transform 0.2s ease, background-color 0.3s ease;
}
      .cari-btn {
  padding: 10px 20px;
  background-color: #25d366;
  color: white;
  font-weight: bold;
  font-size: 14px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  animation: pulse 1.5s infinite;
  transition: transform 0.2s ease, background-color 0.3s ease;
  margin-top: -2px;
  height: 42px;
}

.custom-alert {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #cc0000;
  color: white;
  padding: 12px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: bold;
  z-index: 9999;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  animation: slideDownFade 0.5s ease;
}

@keyframes slideDownFade {
  0% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
  100% { opacity: 1; transform: translateX(-50%) translateY(0); }
}

.cari-btn:hover {
  background-color: #1ebc59;
  transform: scale(1.05);
}

.wa-btn:hover {
  background-color: #1ebc59;
  transform: scale(1.05);
}
.spin-link-btn {
  margin-top: 20px;
  padding: 10px 30px;
  background-color: #28a745;
  color: white;
  font-weight: bold;
  font-size: 14px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  animation: pulse 1.5s infinite;
  transition: transform 0.2s ease, background-color 0.3s ease;
}
.fade-in-success {
  animation: fadeInZoom 0.4s ease;
}

@keyframes fadeInZoom {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}
      
.spin-link-btn:hover {
  background-color: #1e7e34;
  transform: scale(1.05);
}

.notif-popup {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  padding: 15px;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  z-index: 9999;
  animation: slideUp 0.4s ease-out;
  max-width: 320px;
  width: 90%;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(37, 211, 102, 0); }
  100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
}
      @media (max-width: 600px) {
        input[type="text"] {
          width: 80%;
        }
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  </head>
  <body>
    <img src="https://i.ibb.co/8LjX3z3Y/logo-sbj-png.png" alt="Logo Slot Bangjago" style="height: 80px; margin-bottom: 10px; animation: fadeIn 1s ease;" />
    <h2 style="animation: fadeIn 1.2s ease;">Masukkan User ID untuk Lihat Kode Luckyspin</h2>
    <form id="search-form">
  <input type="text" id="searchtext" name="searchtext" placeholder="Masukkan User ID" required />
  <div style="display: flex; align-items: center; gap: 8px;">
    <button type="submit" id="searchBtn" class="cari-btn">Cari</button>
    <div id="loading-spinner" class="spinner-wrapper">
      <div class="spinner"></div>
    </div>
  </div>
</form>
    <div id="result"></div>

    <script>
      document.getElementById("search-form").addEventListener("submit", function (e) {
  e.preventDefault();

  const input = document.getElementById("searchtext").value.trim();
  localStorage.setItem("lastUserID", input);
  if (input.length < 3) {
  showCustomAlert("User ID minimal 3 karakter");
  return;
}
  const spinner = document.getElementById("loading-spinner");
  const result = document.getElementById("result");
  const searchBtn = document.getElementById("searchBtn");

  result.innerHTML = "";
  spinner.classList.add("active");

  // üîí Disable tombol cari agar tidak bisa diklik berulang
  searchBtn.disabled = true;
  searchBtn.innerText = "Mencari...";
  searchBtn.style.opacity = 0.6;
  searchBtn.style.cursor = "not-allowed";
  searchBtn.style.pointerEvents = "none";
  searchBtn.style.pointerEvents = "auto";

  fetch(`https://script.google.com/macros/s/AKfycbz5YrlZfupDk9x6Fxe-yu6sJJ_a6H7SoRQ7A0WNFuPo-Zk9XjYYdvZLmcu4z8MzIn-b/exec?searchtext=${encodeURIComponent(input)}`)
    .then(response => response.json())
    .then(response => {
      spinner.classList.remove("active");

      // üîì Enable kembali tombol
      searchBtn.disabled = false;
      searchBtn.innerText = "Cari";
      searchBtn.style.opacity = 1;
      searchBtn.style.cursor = "pointer";

      if (response && response.length > 0) {
        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        let table = `<table class="result-table"><thead><tr><th>USERID</th><th>KODE LUCKYSPIN</th><th>TANGGAL</th></tr></thead><tbody>`;
response.forEach(row => {
  const tanggal = new Date(row[2]);
  const expiredDate = new Date(tanggal);
  expiredDate.setDate(tanggal.getDate() + 2);

  const options = { day: 'numeric', month: 'short', year: 'numeric' };
  const expText = expiredDate.toLocaleDateString('id-ID', options);

  table += `<tr>
    <td>${row[0]}</td>
    <td>
      <div style="display:flex;justify-content:center;align-items:center;gap:10px;">
        <span>${row[1]}</span>
        <button class="copy-btn" onclick="copyToClipboard('${row[1]}', this)">Copy</button>
      </div>
    </td>
    <td>
      ${row[2]}
      <div style="font-size:12px;color:#e60000;font-weight:bold;margin-top:4px;">KUPON HANGUS: ${expText}</div>
    </td>
  </tr>`;
});
table += `</tbody></table>`;
table += `<div class="reminder-text">JANGAN LUPA DI SPIN SEMUA YA BOS! HADIAH OTOMATIS MASUK 10 MENIT KEDEPAN</div>`;
table += `<div style="margin-top: 10px;">
  <a href="https://klikblg.com/luckyspin-sbj" target="_blank">
    <button class="spin-link-btn">KLIK INI UNTUK MEMUTAR KODE</button>
  </a>
</div>`;
result.innerHTML = table;
      } else {
        result.innerHTML = `
  <div class="reminder-text" style="color:red;margin-top:10px;">
    ‚ùå Pastikan Userid anda sudah benar & Memenuhi Syarat.
  </div>
  <a href="https://klikblg.com/wa-sbj" target="_blank">
    <button class="wa-btn">KLIK INI ! HUBUNGI WA OFFICIAL KAMI</button>
  </a>
`;
      }
    })
    .catch(() => {
      spinner.classList.remove("active");
      searchBtn.disabled = false;
      searchBtn.style.opacity = 1;
      searchBtn.style.cursor = "pointer";
      result.innerHTML = `<div style='color:red;'>‚ùå Gagal terhubung ke server.</div>`;
    });
});

      function showCustomAlert(message) {
  const alertBox = document.getElementById("custom-alert");
  const messageSpan = document.getElementById("custom-alert-message");
  const sound = document.getElementById("alertSound");

  messageSpan.innerText = message;
  alertBox.style.display = "block";

  // üîä Putar suara notifikasi
  if (sound) sound.play();

  // üì≥ Getar di HP (jika didukung)
  if (navigator.vibrate) {
    navigator.vibrate(100);  // getar 100ms
  }

  // ‚è≥ Sembunyikan alert setelah 3 detik
  setTimeout(() => {
    alertBox.style.display = "none";
  }, 3000);
}

      function copyToClipboard(text, btn) {
  navigator.clipboard.writeText(text).then(() => {
    const original = btn.innerHTML;

    // Ganti jadi ‚úÖ dan tambahkan animasi
    btn.innerHTML = "‚úÖ";
    btn.style.backgroundColor = "#28a745";
    btn.classList.add("fade-in-success");

    // Kembalikan setelah 2 detik
    setTimeout(() => {
      btn.innerHTML = original;
      btn.style.backgroundColor = "";
      btn.classList.remove("fade-in-success");
    }, 2000);
  });
}
    </script>

    <!-- Start of LiveChat (www.livechat.com) code -->
    <script>
      window.__lc = window.__lc || {};
      window.__lc.license = 11798511;
      window.__lc.integration_name = "manual_channels";
      window.__lc.product_name = "livechat";
      ;(function(n,t,c){
        function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}
        var e={_q:[],_h:null,_v:"2.0",
          on:function(){i(["on",c.call(arguments)])},
          once:function(){i(["once",c.call(arguments)])},
          off:function(){i(["off",c.call(arguments)])},
          get:function(){
            if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");
            return i(["get",c.call(arguments)])
          },
          call:function(){i(["call",c.call(arguments)])},
          init:function(){
            var n=t.createElement("script");
            n.async=!0;
            n.type="text/javascript";
            n.src="https://cdn.livechatinc.com/tracking.js";
            t.head.appendChild(n)
          }
        };
        !n.__lc.asyncInit && e.init();
        n.LiveChatWidget=n.LiveChatWidget||e
      }(window,document,[].slice))
    </script>
    <noscript>
      <a href="https://www.livechat.com/chat-with/11798511/" rel="nofollow">Chat with us</a>, powered by 
      <a href="https://www.livechat.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a>
    </noscript>
    <!-- End of LiveChat code -->

    <!-- Script isi otomatis input -->
    <script>
      window.addEventListener("DOMContentLoaded", () => {
  const lastUserID = localStorage.getItem("lastUserID");
  if (lastUserID) {
    document.getElementById("searchtext").value = lastUserID;
  }

  const notifClosed = localStorage.getItem("notifClosed");
  if (notifClosed === "1") {
    document.getElementById("custom-prompt").style.display = "none";
  }
});
    </script>

    <!-- Tombol GIF Telegram -->
    <a href="https://klikblg.com/tele-sbj" target="_blank" style="position: fixed; bottom: 90px; left: 20px; z-index: 9999;">
      <img src="https://i.ibb.co/qFNF754C/s-Wrh-ESzm4-Oh-UZql-Jg-Mvcz-c-Vr-Hw.gif" alt="Telegram GIF" style="width: 60px; height: 60px; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,0.3); cursor: pointer;" />
    </a>
    <!-- Tombol GIF WhatsApp -->
    <a href="https://klikblg.com/wa-sbj" target="_blank" style="position: fixed; bottom: 20px; left: 20px; z-index: 9999;">
      <img src="https://i.ibb.co/mrvRcXRH/Wqtl0ij-Kix.gif" alt="WhatsApp GIF" style="width: 60px; height: 60px; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,0.3); cursor: pointer;" />
    </a>
    <!-- Custom OneSignal Prompt -->
<div id="custom-prompt" class="notif-popup">
  <p style="margin:0 0 8px 0;font-size:14px;">
    <strong>Izinkan Notifikasi?</strong><br>
    Dapatkan info Luckyspin & bonus terbaru!
  </p>
  <div style="display: flex; justify-content: space-between;">
    <button onclick="allowPush()" style="flex:1; margin-right: 8px; background-color:#28a745; color:white; padding:6px 0; border:none; border-radius:4px; cursor:pointer;">Izinkan</button>
    <button onclick="denyPush()" style="flex:1; background-color:#dc3545; color:white; padding:6px 0; border:none; border-radius:4px; cursor:pointer;">Tolak</button>
  </div>
</div>
    
<style>
@keyframes slideUp {
  from { transform: translateY(30px); opacity: 0; }
  to   { transform: translateY(0); opacity: 1; }
}
</style>
<script>
  function allowPush() {
  OneSignalDeferred.push(function(OneSignal) {
    OneSignal.Slidedown.promptPush();
    document.getElementById("custom-prompt").style.display = "none";
    localStorage.setItem("notifClosed", "1");
  });
}

function denyPush() {
  document.getElementById("custom-prompt").style.display = "none";
  localStorage.setItem("notifClosed", "1");
}

</script>
    <div id="custom-alert" style="display:none;" class="custom-alert">
  <span id="custom-alert-message"></span>
</div>
    <audio id="alertSound" src="https://assets.mixkit.co/sfx/preview/mixkit-software-interface-start-2574.mp3" preload="auto"></audio>
  </body>
</html>
